<!DOCTYPE html>
<html lang="pt">
<head>
    <title>
        
Optional features

    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/static/css/icons.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bulma.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bookwyrm.css">

    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bookwyrm Documentation">
    <meta name="og:title" content="Bookwyrm Documentation">
    <meta name="twitter:description" content="Documentation for using and contributing to BookWyrm">
    <meta name="og:description" content="Documentation for using and contributing to BookWyrm">

    <meta name="twitter:image" content="">
    <meta name="og:image" content="">
    <meta name="twitter:image:alt" content="BookWyrm Logo">

    <meta charset="UTF-8">
</head>
<body>
<nav class="navbar container is-max-desktop" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://joinbookwyrm.com/">
            <img class="image logo" src="/static/images/logo-small.png" alt="Go back to the homepage">
        </a>
    </div>

    <div class="navbar-menu" id="main-nav">
        <div class="navbar-start">
            <a href="https://joinbookwyrm.com/pt-br/instances" class="navbar-item">
                <span class="button is-success has-text-weight-normal has-text-white">Join</span>
            </a>
            <a href="https://joinbookwyrm.com/pt-br/get-involved" class="navbar-item">
                Get involved
            </a>
            <a href="https://www.patreon.com/bookwyrm" class="navbar-item">
                Support
            </a>
            <a href="https://github.com/bookwyrm-social/bookwyrm" class="navbar-item">
                Code
            </a>
            <a href="#" class="navbar-item is-active">
                Documentation
            </a>
        </div>
    </div>
    <div class="navbar-end">
        <div class="navbar-item">
            <div class="select">
                <select aria-label="Select a language" id="language_selection">
                    
                    <option value="" >English (US)</option>
                    
                    <option value="de/" >Deutsch</option>
                    
                    <option value="fr/" >Fran√ßais</option>
                    
                    <option value="pl/" >Polski</option>
                    
                    <option value="pt-br/" selected>Portugu√™s do Brasil</option>
                    
                    <option value="ro/" >Rom√¢nƒÉ</option>
                    
              </select>
            </div>
        </div>
    </div>
</nav>

<div class="container is-max-desktop">
<section class="section">

    <header class="content block column is-offset-one-quarter pl-2">
        
<h1 class="title is-1">Optional features</h1>

    </header>
    <div class="columns">
	<nav class="menu column is-one-quarter mt-2">
            <h2 class="menu-label"><a href="/pt-br/">Welcome</a></h2>
            
            <h2 class="menu-label">Using BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/pt-br/posting-statuses.html" >Posting statuses</a>
                </li>
                
                <li>
                    <a href="/pt-br/adding-books.html" >Adding Books</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Running BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/pt-br/install-prod.html" >Installing in Production</a>
                </li>
                
                <li>
                    <a href="/pt-br/install-prod-dockerless.html" >Installing Without Docker</a>
                </li>
                
                <li>
                    <a href="/pt-br/updating.html" >Updating Your Instance</a>
                </li>
                
                <li>
                    <a href="/pt-br/reverse-proxy.html" >Using a Reverse-Proxy</a>
                </li>
                
                <li>
                    <a href="/pt-br/moderation.html" >Moderation</a>
                </li>
                
                <li>
                    <a href="/pt-br/monitoring-queue.html" >Monitoring Queue</a>
                </li>
                
                <li>
                    <a href="/pt-br/external-storage.html" >External Storage</a>
                </li>
                
                <li>
                    <a href="/pt-br/optional_features.html" class="is-active">Optional features</a>
                </li>
                
                <li>
                    <a href="/pt-br/cli.html" >Command Line Tool</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Contributing</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/pt-br/contributing.html" >How to Contribute</a>
                </li>
                
                <li>
                    <a href="/pt-br/translation.html" ></a>
                </li>
                
                <li>
                    <a href="/pt-br/install-dev.html" >Developer Environment</a>
                </li>
                
                <li>
                    <a href="/pt-br/style_guide.html" >Style Guide</a>
                </li>
                
                <li>
                    <a href="/pt-br/debug_toolbar.html" >Django Debug Toolbar</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Codebase</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/pt-br/activitypub.html" >ActivityPub</a>
                </li>
                
                <li>
                    <a href="/pt-br/permissions.html" >Permiss√µes</a>
                </li>
                
            </ul>
            
        </nav>

        <div class="column">
            
<section class="block content">
    <p>Alguns recursos da BookWyrm devem ser habilitados para funcionar.</p>
<h2>Gera√ß√£o de pr√©-visualiza√ß√£o</h2>
<p>Por padr√£o, a BookWyrm usa a logo da inst√¢ncia (ou a padr√£o) como uma imagem de pr√©-vusaliza√ß√£o OpenGraph. Voc√™ pode tamb√©m habilitar a cria√ß√£o de pr√©-visualiza√ß√£o para livros, usu√°rios e para todo o site.</p>
<p>As imagens de pr√©-visualiza√ß√£o ser√£o do tamanho grande do OpenGraph (usado pelo twitter com o nome de <code>summary_large_image</code>). Dependendo do tipo de imagem, seus conte√∫dos ser√£o:</p>
<ul>
<li>a imagem padr√£o da inst√¢ncia mostrar√° a logo grande e o nome da inst√¢ncia e seu endere√ßo</li>
<li>a imagem do usu√°rio mostrar√° seu avatar, nome de exibi√ß√£o e arroba (na forma usu√°rio@inst√¢ncia)</li>
<li>a imagem do livro mostrar√° sua capa, t√≠tulo, subt√≠tulo (se tiver), autor e avalia√ß√£o (se tiver)</li>
</ul>
<p>Essas imagens ser√£o atualizadas em v√°rios casos:</p>
<ul>
<li>imagem da inst√¢ncia: quando o nome da inst√¢ncia ou a logo s√£o alterados</li>
<li>imagem do usu√°rio: quando o nome de exibi√ß√£o ou o avatar s√£o alterados</li>
<li>imagem do livro: quando o t√≠tulo, a autoria ou a capa s√£o alterados, ou quando uma nova avalia√ß√£o √© feita</li>
</ul>
<h3>Habilitando imagens de pr√©-visualiza√ß√£o</h3>
<p>In order to enable the feature with default settings, you have to uncomment (remove the <code>#</code> in front of) the line <code>ENABLE_PREVIEW_IMAGES=true</code> in your <code>.env</code> file. All the new updating events aforementioned will cause the generation of the corresponding image.</p>
<p>Examples for these images can be viewed on the <a href="https://github.com/bookwyrm-social/bookwyrm/pull/1142#pullrequest-651683886-permalink">feature‚Äôs pull request‚Äôs description</a>.</p>
<h3>Generating preview images</h3>
<p>If you enable this setting after your instance has been started, some images may not have been generated. A command has been added to automate the image generation. In order to prevent a ressource hog by generating <strong>A LOT</strong> of images, you have to pass the argument <code>--all</code> (or <code>-a</code>) to start the generation of the preview images for all users and books. Without this argument, only the site preview will be generated.</p>
<p>User and book preview images will be generated asynchroneously: the task will be sent to Flower. Some time may be needed before all the books and users have a working preview image. If you have a good book üìñ, a kitten üê± or a cake üç∞, this is the perfect time to show them some attention üíñ.</p>
<h3>Optional settings</h3>
<p>So you want to customize your preview images? Here are the options:</p>
<ul>
<li><code>PREVIEW_BG_COLOR</code> will set the color for the preview image background. You can supply a color value, like <code>#b00cc0</code>, or the following values <code>use_dominant_color_light</code> or <code>use_dominant_color_dark</code>. These will extract a dominant color from the book cover and use it, in a light or a dark theme respectively.</li>
<li><code>PREVIEW_TEXT_COLOR</code> will set the color for the text. Depending on the choice for the background color, you should find a value that will have a sufficient contrast for the image to be accessible. A contrast ratio of 1:4.5 is recommended.</li>
<li><code>PREVIEW_IMG_WIDTH</code> and <code>PREVIEW_IMG_HEIGHT</code> will set the dimensions of the image. Currently, the system will work best on images with a landscape (horizontal) orientation.</li>
<li><code>PREVIEW_DEFAULT_COVER_COLOR</code> will set the color for books without covers.</li>
</ul>
<p>All the color variables accept values that can be recognized as colors by Pillow‚Äôs <code>ImageColor</code> module: <a href="https://pillow.readthedocs.io/en/stable/reference/ImageColor.html#color-names">Learn more about Pillow color names</a>.</p>
<h3>Removing preview images for remote users</h3>
<p>Prior to BookWyrm 0.5.4, preview images were generated for remote users. As it was wasteful in terms of disk space and computing power, that generation has been stopped. If you wish to delete in bulk all the images that were previously generated for remote users, a new command was added:</p>
<div class="highlight"><pre><span></span><code>./bw-dev<span class="w"> </span>remove_remote_user_preview_images
</code></pre></div>

<p>That command will empty the <code>user.preview_image</code> property in the database for remote users, and delete the file in storage.</p>
</section>

        </div>
    </div>
</section>
</div>

<footer id="contentinfo" class="footer">
    <div class="container is-max-desktop">
        <div class="columns">
            <div class="column content">
                <p>
                    <strong>BookWyrm</strong> is collaborative, anti-corporate software maintained by <a href='https://www.mousereeve.com/'>Mouse Reeve</a>.
                </p>
                <p>
                    Support BookWyrm on <a href='https://www.patreon.com/bookwyrm' target='_blank'>Patreon</a>.
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Get Involved</h3>
                <p>
                    <a href="https://github.com/bookwyrm-social">BookWyrm on GitHub</a>
                </p>
                <p>
                    <a href="https://github.com/bookwyrm-social/documentation/blob/main/content/running_bookwyrm/optional_features.md">Contribute to this page</a>
                </p>
                <p>
                    <a href="https://twitter.com/BookWyrmSocial" target="_blank">
                        <span class="icon icon-twitter"><span class="is-sr-only">Twitter</span></span>
                    </a>
                    <a href="https://tech.lgbt/@bookwyrm" target="_blank" rel="me">
                        <span class="icon icon-mastodon"><span class="is-sr-only">Mastodon</span></span>
                    </a>
                    <a href="https://www.patreon.com/bookwyrm" target="_blank">
                        <span class="icon icon-patreon"><span class="is-sr-only">Patreon</span></span>
                    </a>
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Learn more</h3>
                <p>
                    <a href="https://docs.joinbookwyrm.com">Documentation</a>
                </p>
                <p>
                    <a href="mailto:mousereeve@riseup.net">Contact maintainer</a>
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/bookwyrm-social/join-bookwyrm/main/LICENSE.md">License</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">
    (function() {
        var languageSelector = document.getElementById("language_selection");
        languageSelector.onchange = function(event) {
            var current_locale = "pt-br/";
            var current_location = window.location.pathname;

            var locale_index = current_location.indexOf(current_locale);
            var new_location = "/" + event.target.value;

            if (locale_index) {
                new_location += current_location.slice(locale_index + current_locale.length);
            } else {
                new_location += current_location.slice(1);
            }

            window.location = new_location;
        }
    })()
</script>

</body>
</html>
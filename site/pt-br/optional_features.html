<!DOCTYPE html>
<html lang="pt">
<head>
    <title>
        
Optional features

    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/static/css/icons.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bulma.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bookwyrm.css?v076">

    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bookwyrm Documentation">
    <meta name="og:title" content="Bookwyrm Documentation">
    <meta name="twitter:description" content="Documentation for using and contributing to BookWyrm">
    <meta name="og:description" content="Documentation for using and contributing to BookWyrm">

    <meta name="twitter:image" content="">
    <meta name="og:image" content="">
    <meta name="twitter:image:alt" content="BookWyrm Logo">

    <meta charset="UTF-8">
</head>
<body>
<nav class="navbar container is-max-desktop" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://joinbookwyrm.com/">
            <img class="image logo" src="/static/images/logo-small.png" alt="Go back to the homepage">
        </a>
        <a href="/" class="navbar-item has-text-link has-text-weight-bold">
            Documentação
        </a>
        <a role="button" class="navbar-burger" data-target="main-nav" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div class="navbar-menu" id="main-nav">
        <div class="navbar-start">
            <a href="https://joinbookwyrm.com/pt-br/instances" class="navbar-item">
                Registrar
            </a>
            <a href="https://joinbookwyrm.com/pt-br/get-involved" class="navbar-item">
                Participe
            </a>
            <a href="https://www.patreon.com/bookwyrm" class="navbar-item">
                Suporte
            </a>
            <a href="https://github.com/bookwyrm-social/bookwyrm" class="navbar-item">
                Código
            </a>
        </div>
    </div>
</nav>

<div class="columns">
    <nav class="menu column is-one-quarter is-hidden-touch pl-6 mt-4" id="menu">
        <h2 class="menu-label">Language & Version</a></h2>
        <div class="select">
            <select aria-label="Select a language" id="language_selection">
                
                <option value="" >English (US)</option>
                
                <option value="de/" >Deutsch</option>
                
                <option value="fr/" >Français</option>
                
                <option value="pl/" >Polski</option>
                
                <option value="pt-br/" selected>Português do Brasil</option>
                
                <option value="ro/" >Română</option>
                
          </select>
        </div>
        <div class="select">
            <select aria-label="Previous versions" id="version_selection">
                
                <option value="latest" >latest</option>
                
                <option value="v0.7.5" >v0.7.5</option>
                
            </select>
        </div>
        
        <h2 class="menu-label">Using BookWyrm</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/pt-br/posting-statuses.html" class="has-background-inherit" >Posting Statuses</a>
            </li>
            
            <li>
                <a href="/pt-br/privacy-controls.html" class="has-background-inherit" >Privacy Controls</a>
            </li>
            
            <li>
                <a href="/pt-br/adding-books.html" class="has-background-inherit" >Adicionar livros</a>
            </li>
            
            <li>
                <a href="/pt-br/lists.html" class="has-background-inherit" >Lists</a>
            </li>
            
            <li>
                <a href="/pt-br/groups.html" class="has-background-inherit" >Groups</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Running BookWyrm</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/pt-br/install-prod.html" class="has-background-inherit" >Installing in Production</a>
            </li>
            
            <li>
                <a href="/pt-br/install-prod-dockerless.html" class="has-background-inherit" >Installing Without Docker</a>
            </li>
            
            <li>
                <a href="/pt-br/updating.html" class="has-background-inherit" >Updating Your Instance</a>
            </li>
            
            <li>
                <a href="/pt-br/reverse-proxy.html" class="has-background-inherit" >Using a Reverse-Proxy</a>
            </li>
            
            <li>
                <a href="/pt-br/moderation.html" class="has-background-inherit" >Moderation</a>
            </li>
            
            <li>
                <a href="/pt-br/monitoring-queue.html" class="has-background-inherit" >Monitoring Queue</a>
            </li>
            
            <li>
                <a href="/pt-br/external-storage.html" class="has-background-inherit" >External Storage</a>
            </li>
            
            <li>
                <a href="/pt-br/optional_features.html" class="has-background-inherit" class="is-active">Optional features</a>
            </li>
            
            <li>
                <a href="/pt-br/cli.html" class="has-background-inherit" >Command Line Tool</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Contributing</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/pt-br/style_guide.html" class="has-background-inherit" ></a>
            </li>
            
            <li>
                <a href="/pt-br/contributing.html" class="has-background-inherit" ></a>
            </li>
            
            <li>
                <a href="/pt-br/translation.html" class="has-background-inherit" ></a>
            </li>
            
            <li>
                <a href="/pt-br/install-dev.html" class="has-background-inherit" >Developer Environment</a>
            </li>
            
            <li>
                <a href="/pt-br/debug_toolbar.html" class="has-background-inherit" >Django Debug Toolbar</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Codebase</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/pt-br/activitypub.html" class="has-background-inherit" ></a>
            </li>
            
            <li>
                <a href="/pt-br/permissions.html" class="has-background-inherit" >Permissões</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Reference Guides</h2>
        <ul class="menu-list has-background-inherit">
            
        </ul>
        
    </nav>

    <div class="column">
        <div class="container is-max-desktop">
            <section class="section">
                <header class="content block column is-offset-one-quarter pl-2">
                    
<h1 class="title is-1">Optional features</h1>

                </header>
                
<section class="block content">
    <p>Alguns recursos da BookWyrm devem ser habilitados para funcionar.</p>
<h2 id="geracao-de-pre-visualizacao"><a class="headerlink" href="#geracao-de-pre-visualizacao">Geração de pré-visualização</a></h2>
<p>Por padrão, a BookWyrm usa a logo da instância (ou a padrão) como uma imagem de pré-vusalização OpenGraph. Você pode também habilitar a criação de pré-visualização para livros, usuários e para todo o site.</p>
<p>As imagens de pré-visualização serão do tamanho grande do OpenGraph (usado pelo twitter com o nome de <code>summary_large_image</code>). Dependendo do tipo de imagem, seus conteúdos serão:</p>
<ul>
<li>a imagem padrão da instância mostrará a logo grande e o nome da instância e seu endereço</li>
<li>a imagem do usuário mostrará seu avatar, nome de exibição e arroba (na forma usuário@instância)</li>
<li>a imagem do livro mostrará sua capa, título, subtítulo (se tiver), autor e avaliação (se tiver)</li>
</ul>
<p>Essas imagens serão atualizadas em vários casos:</p>
<ul>
<li>imagem da instância: quando o nome da instância ou a logo são alterados</li>
<li>imagem do usuário: quando o nome de exibição ou o avatar são alterados</li>
<li>imagem do livro: quando o título, a autoria ou a capa são alterados, ou quando uma nova avaliação é feita</li>
</ul>
<h3 id="habilitando-imagens-de-pre-visualizacao"><a class="headerlink" href="#habilitando-imagens-de-pre-visualizacao">Habilitando imagens de pré-visualização</a></h3>
<p>In order to enable the feature with default settings, you have to uncomment (remove the <code>#</code> in front of) the line <code>ENABLE_PREVIEW_IMAGES=true</code> in your <code>.env</code> file. All the new updating events aforementioned will cause the generation of the corresponding image.</p>
<p>Examples for these images can be viewed on the <a href="https://github.com/bookwyrm-social/bookwyrm/pull/1142#pullrequest-651683886-permalink">feature’s pull request’s description</a>.</p>
<h3 id="generating-preview-images"><a class="headerlink" href="#generating-preview-images">Generating preview images</a></h3>
<p>If you enable this setting after your instance has been started, some images may not have been generated. A command has been added to automate the image generation. In order to prevent a ressource hog by generating <strong>A LOT</strong> of images, you have to pass the argument <code>--all</code> (or <code>-a</code>) to start the generation of the preview images for all users and books. Without this argument, only the site preview will be generated.</p>
<p>User and book preview images will be generated asynchroneously: the task will be sent to Flower. Some time may be needed before all the books and users have a working preview image. If you have a good book 📖, a kitten 🐱 or a cake 🍰, this is the perfect time to show them some attention 💖.</p>
<h3 id="optional-settings"><a class="headerlink" href="#optional-settings">Optional settings</a></h3>
<p>So you want to customize your preview images? Here are the options:</p>
<ul>
<li><code>PREVIEW_BG_COLOR</code> will set the color for the preview image background. You can supply a color value, like <code>#b00cc0</code>, or the following values <code>use_dominant_color_light</code> or <code>use_dominant_color_dark</code>. These will extract a dominant color from the book cover and use it, in a light or a dark theme respectively.</li>
<li><code>PREVIEW_TEXT_COLOR</code> will set the color for the text. Depending on the choice for the background color, you should find a value that will have a sufficient contrast for the image to be accessible. A contrast ratio of 1:4.5 is recommended.</li>
<li><code>PREVIEW_IMG_WIDTH</code> and <code>PREVIEW_IMG_HEIGHT</code> will set the dimensions of the image. Currently, the system will work best on images with a landscape (horizontal) orientation.</li>
<li><code>PREVIEW_DEFAULT_COVER_COLOR</code> will set the color for books without covers.</li>
</ul>
<p>All the color variables accept values that can be recognized as colors by Pillow’s <code>ImageColor</code> module: <a href="https://pillow.readthedocs.io/en/stable/reference/ImageColor.html#color-names">Learn more about Pillow color names</a>.</p>
<h3 id="removing-preview-images-for-remote-users"><a class="headerlink" href="#removing-preview-images-for-remote-users">Removing preview images for remote users</a></h3>
<p>Prior to BookWyrm 0.5.4, preview images were generated for remote users. As it was wasteful in terms of disk space and computing power, that generation has been stopped. If you wish to delete in bulk all the images that were previously generated for remote users, a new command was added:</p>
<div class="highlight"><pre><span></span><code>./bw-dev<span class="w"> </span>remove_remote_user_preview_images
</code></pre></div>

<p>That command will empty the <code>user.preview_image</code> property in the database for remote users, and delete the file in storage.</p>
</section>

            </section>
        </div>
    </div>
</div>

<footer id="contentinfo" class="footer">
    <div class="container is-max-desktop">
        <div class="columns">
            <div class="column content">
                <p>
                    <strong>BookWyrm</strong> é um software colaborativo e anti-corporativo mantido por <a href='https://www.mousereeve.com/'>Mouse Reeve</a>.
                </p>
                <p>
                    Apoie a BookWyrm no <a href='https://www.patreon.com/bookwyrm' target='_blank'>Patreon</a>.
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Participe</h3>
                <p>
                    <a href="https://github.com/bookwyrm-social">BookWyrm no GitHub</a>
                </p>
                <p>
                    <a href="https://github.com/bookwyrm-social/documentation/blob/main/content/running_bookwyrm/optional_features.md">Contribua para esta página</a>
                </p>
                <p>
                    <a href="https://twitter.com/BookWyrmSocial" target="_blank">
                        <span class="icon icon-twitter"><span class="is-sr-only">Twitter</span></span>
                    </a>
                    <a href="https://tech.lgbt/@bookwyrm" target="_blank" rel="me">
                        <span class="icon icon-mastodon"><span class="is-sr-only">Mastodon</span></span>
                    </a>
                    <a href="https://www.patreon.com/bookwyrm" target="_blank">
                        <span class="icon icon-patreon"><span class="is-sr-only">Patreon</span></span>
                    </a>
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Saiba mais</h3>
                <p>
                    <a href="https://docs.joinbookwyrm.com">Documentação</a>
                </p>
                <p>
                    <a href="mailto:mousereeve@riseup.net">Falar com a administração</a>
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/bookwyrm-social/join-bookwyrm/main/LICENSE.md">Licença</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<script>
    var current_locale = "pt-br/";
</script>
<script src="/static/js/bookwyrm.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="de">
<head>
    <title>
        
Installation ohne Docker

    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/static/css/icons.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bulma.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bookwyrm.css">

    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bookwyrm Documentation">
    <meta name="og:title" content="Bookwyrm Documentation">
    <meta name="twitter:description" content="Documentation for using and contributing to BookWyrm">
    <meta name="og:description" content="Documentation for using and contributing to BookWyrm">

    <meta name="twitter:image" content="">
    <meta name="og:image" content="">
    <meta name="twitter:image:alt" content="BookWyrm Logo">

    <meta charset="UTF-8">
</head>
<body>
<nav class="navbar container is-max-desktop" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://joinbookwyrm.com/">
            <img class="image logo" src="/static/images/logo-small.png" alt="Go back to the homepage">
        </a>
    </div>

    <div class="navbar-menu" id="main-nav">
        <div class="navbar-start">
            <a href="https://joinbookwyrm.com/de/instances" class="navbar-item">
                <span class="button is-success has-text-weight-normal has-text-white">Beitreten</span>
            </a>
            <a href="https://joinbookwyrm.com/de/get-involved" class="navbar-item">
                Mitmachen
            </a>
            <a href="https://www.patreon.com/bookwyrm" class="navbar-item">
                Unterstützung
            </a>
            <a href="https://github.com/bookwyrm-social/bookwyrm" class="navbar-item">
                Code
            </a>
            <a href="#" class="navbar-item is-active">
                Dokumentation
            </a>
        </div>
    </div>
    <div class="navbar-end">
        <div class="navbar-item">
            <div class="select">
                <select aria-label="Select a language" id="language_selection">
                    
                    <option value="" >English (US)</option>
                    
                    <option value="de/" selected>Deutsch</option>
                    
                    <option value="fr/" >Français</option>
                    
                    <option value="pl/" >Polski</option>
                    
                    <option value="pt-br/" >Português do Brasil</option>
                    
                    <option value="ro/" >Română</option>
                    
              </select>
            </div>
        </div>
    </div>
</nav>

<div class="container is-max-desktop">
<section class="section">

    <header class="content block column is-offset-one-quarter pl-2">
        
<h1 class="title is-1">Installation ohne Docker</h1>

    </header>
    <div class="columns">
	<nav class="menu column is-one-quarter mt-2">
        <div class="select">
            <select aria-label="Previous versions" id="version_selection">
                
                <option value="latest" >latest</option>
                
                <option value="v0.7.5" selected>v0.7.5</option>
                
            </select>
        </div>
            <h2 class="menu-label"><a href="/de/">Welcome</a></h2>
            
            <h2 class="menu-label">Using BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/v0.7.5/de/shelves.html" >Shelves & Reading Status</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/adding-books.html" >Bücher hinzufügen</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/posting-statuses.html" >Posting Statuses</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/lists.html" >Lists</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/privacy-controls.html" >Privacy Controls</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/groups.html" >Groups</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/rss-feeds.html" >RSS Feeds</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/user-migration.html" >User Migration and Aliases</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Running BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/v0.7.5/de/install-prod.html" >Installing in Production</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/install-prod-dockerless.html" class="is-active">Installation ohne Docker</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/updating.html" >Deine Instanz updaten</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/reverse-proxy.html" >Verwenden eines Reverse-Proxy</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/moderation.html" >Moderation</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/monitoring-queue.html" >Überwachungswarteschlange</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/external-storage.html" >Externer Speicher</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/optional_features.html" >Optionale Funktionen</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/cli.html" >Befehlszeilenwerkzeug</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Contributing</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/v0.7.5/de/contributing.html" >Wie mitmachen</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/translation.html" >Übersetzungen</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/documentation.html" >Documentation</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/style_guide.html" >Stilleitfaden</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/debug_toolbar.html" >Django Debug-Symbolleiste</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/install-dev.html" >Developer Environment</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Codebase</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/v0.7.5/de/activitypub.html" >ActivityPub</a>
                </li>
                
                <li>
                    <a href="/v0.7.5/de/permissions.html" >Berechtigungen</a>
                </li>
                
            </ul>
            
        </nav>

        <div class="column">
            
<section class="block content">
    <p>Dieses Projekt ist noch jung und, im Moment, nicht sehr stabil. Bitte verwende es nur mit Vorsicht in Produktion. Diese Methode der Installation benötigt mehr Können und ist daher für erfahrene Administrator*innen. Docker Installation wird empfohlen Diese Installationsmethode geht davon aus, dass du bereits SSL mit verfügbaren Zertifikaten konfiguriert hast</p>
<h2 id="servereinrichtung"><a class="headerlink" href="#servereinrichtung">Servereinrichtung</a></h2>
<ul>
<li>Hole dir eine Domain und konfiguriere DNS für deinen Server. Du musst die Nameserver Deiner Domain bei Deinem DNS-Provider auf den Server verweisen, auf dem du BookWyrm betreibst. Hier sind Anweisungen für <a href="https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars">DigitalOcean</a></li>
<li>Setze Deiner Server mit geeigneter Firewall für den Betrieb einer Web-Anwendung auf (dieser Befehlssatz ist mit Ubuntu 20.04 getestet). Hier ist eine Anleitung für <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04">DigitalOcean</a></li>
<li>Richte einen E-Mail-Dienst (wie <a href="https://documentation.mailgun.com/en/latest/quickstart.html">Mailgun</a>) und die entsprechenden SMTP/DNS-Einstellungen ein. Benutze die Dokumentation des Dienstes für die Konfiguration deines DNS</li>
<li>Abhängigkeiten installieren. Auf Debian könnte das wie <code>apt install postgresql redis nginx python3-venv libpq-dev</code> aussehen.</li>
</ul>
<h2 id="bookwyrm-installieren-und-konfigurieren"><a class="headerlink" href="#bookwyrm-installieren-und-konfigurieren">BookWyrm installieren und konfigurieren</a></h2>
<p>Die <code>-Produktion</code> Zweig von BookWyrm enthält eine Reihe von Werkzeugen die nicht auf dem <code>Haupt-</code> -Zweig sind, die für den Betrieb in der Produktion geeignet sind zum Beispiel <code>docker-compose</code> Änderungen, um die Standardbefehle oder die Konfiguration von Containern zu aktualisieren und individuelle Änderungen an der Container-Konfiguration, um Dinge wie SSL oder regelmäßige Sicherungen zu aktivieren. Nicht alle diese Änderungen wirken sich auf die Installation ohne Docker aus, aber der <code>-production</code>-Zweig wird immer noch empfohlen</p>
<p>Anleitung für das Ausführen von BookWyrm in Produktion ohne Docker:</p>
<ul>
<li>Erstelle und betrete das Verzeichnis, in das Du  BookWyrm installieren willst. Für das Beispiel: <code>/opt/bookwyrm</code>: <code>mkdir /opt/bookwyrm &amp;&amp; cd /opt/bookwyrm</code></li>
<li>Hole den Quelltext: <code>git clone git@github.com:bookwyrm-social/bookwyrm.git ./</code></li>
<li>Wechsel in den <code>production</code>-zweig: <code>git checkout production</code></li>
<li>Erstelle deine Umgebungsvariablendatei <code>cp .env.example .env</code> und aktualisiere Folgendes:<ul>
<li><code>SECRET_KEY</code> | Eine schwer zu erratende geheime Zeichenfolge</li>
<li><code>DOMAIN</code> | Deine Web-Domain</li>
<li><code>POSTGRES_PASSWORD</code> | Setze ein sicheres Passwort für die Datenbank</li>
<li><code>POSTGRES_HOST</code> | Auf <code>localhost</code> (setzen die Maschine auf der Deine Datenbank läuft)</li>
<li><code>POSTGRES_USER</code> | Auf <code>bookwyrm</code> setzen (empfohlen) oder etwas Eigenes. (später konfiguriert)</li>
<li><code>POSTGRES_DB</code> | Auf <code>Bookwyrm</code> setzen</li>
<li><code>REDIS_ACTIVITY_PASSWORD</code> | Auf nichts setzen (auf einem lokalen Rechner mit einer Firewall)</li>
<li><code>REDIS_ACTIVITY_HOST</code> | Auf  <code>localhost</code> setzen (die Maschine, auf der  redis läuft)</li>
<li><code>REDIS_BROKER_PASSWORD</code> | Auf nichts setzen (auf einem lokalen Rechner mit einer Firewall)</li>
<li><code>REDIS_BROKER_HOST</code> | Auf  <code>localhost</code> setzen (die Maschine, auf der  redis läuft)</li>
<li><code>EMAIL_HOST_USER</code> | Die "von"-Adresse, die deine App beim Senden von E-Mails verwendet</li>
<li><code>EMAIL_HOST_PASSWORD</code> | Das Passwort von deinem E-Mail-Dienst</li>
</ul>
</li>
<li>Nginx konfigurieren<ul>
<li>Kopiere die server_config nach nginx's conf.d: <code>cp nginx/server_config /etc/nginx/conf.d/server_config</code></li>
<li>Erstelle eine Kopie der Konfiguration der Produktionsvorlage und setze sie für die Verwendung in nginx <code>cp nginx/production nginx/bookwyrm.conf</code></li>
<li>Aktualisiere nginx <code>bookwyrm.conf</code>:<ul>
<li>Ersetze <code>your-domain.com</code> mit deinem Domainnamen überall in der Datei (inklusive der aktuell auskommentierten Zeilen)</li>
<li>Ersetze in der Datei überall (inklusive der auskommentierten Zeilen) <code>/app/</code> mit deinem Installationsverzeichnis <code>/opt/bookwyrm/</code></li>
<li>Zeilen 18 bis 67 auskommentieren, um die Weiterleitung zu HTTPS zu ermöglichen. Du solltest zwei <code>Server</code>-Blöcke aktiviert haben</li>
<li>Ändere die <code>ssl_certificate</code> und <code>ssl_certificate_key</code> Pfade an Ihre volle Kette und Privkey Positionen</li>
<li>Ändere die Zeile 4 zu folgendem Inhalt: <code>server localhost:8000</code>. Du kannst hier einen anderen Port wählen, wenn du magst</li>
<li>Wenn du einen anderen Webserver auf deinem Host-Rechner betreibst, musst du den <a href="/reverse-proxy.html">Reverse-Proxy-Anweisungen</a> folgen</li>
</ul>
</li>
<li>Aktiviere die nginx-Konfigurationsdatei mit folgendem Befehl: <code>ln -s /etc/nginx/sites-available/bookwyrm.conf /etc/nginx/sites-enabled/bookwyrm.conf</code></li>
<li>Lade Nginx neu: <code>systemctl reload nginx</code></li>
</ul>
</li>
<li>Einrichtung der virtuellen Python-Umgebung<ul>
<li>Erstelle den Python venv-Ordner in deinem Installationsverzeichnis: <code>mkdir venv</code> <code>python3 -m venv ./venv</code></li>
<li>Installiere die Python-Abhängigkeiten für Bookwyrm via pip mit folgendem Befehl: <code>./venv/bin/pip3 install -r requirements.txt</code></li>
</ul>
</li>
<li>
<p>Erstelle die Bookwyrm PostgreSQL-Datenbank. Ändere das Passwort zu dem, welches du in der <code>.env</code> Konfiguration gesetzt hast:</p>
<p><code>sudo -i -u postgres psql</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>CREATE USER bookwyrm WITH PASSWORD &#39;securedbypassword123&#39;;

CREATE DATABASE bookwyrm TEMPLATE template0 ENCODING &#39;UNICODE&#39;;

ALTER DATABASE bookwyrm OWNER TO bookwyrm;

GRANT ALL PRIVILEGES ON DATABASE bookwyrm TO bookwyrm;

\q
</code></pre></div>

<ul>
<li>Migriere das Datenbankschema, indem du <code>venv/bin/python3 manage.py migrate</code></li>
<li>Initialisiere die Datenbank, indem du folgenden Befehl ausführst <code>venv/bin/python3 manage.py initdb</code></li>
<li>Erstelle die Statische durch Ausführen von <code>venv/bin/python3 manage.py collectstatic --no-input</code></li>
<li>Wenn du einen externen Speicher für statische Assets und Mediendateien verwenden möchtest (z. B. einen S3-kompatiblen Dienst), <a href="/external-storage.html">befolge die Anweisungen</a> bis es dir mitteilt, wieder hierherzukommen</li>
<li>
<p>Erstelle und richte deinen <code>Bookwyrm</code> Account ein</p>
<ul>
<li>Erstelle den System-Bookwyrm-Account: <code>useradd bookwyrm -r</code></li>
<li>Ändere den Eigentümer deines Installationsverzeichnisses auf bookwyrm: <code>chown -R bookwyrm:bookwyrm /opt/bookwyrm</code></li>
<li>Du solltest nun die Befehle welche mit Bookwyrm zu tun haben mit dem Bookwyrm-Benutzer ausführen:   <code>sudo -u bookwyrm echo I am the $(whoami) user</code></li>
</ul>
</li>
<li>
<p>Erstelle den Admin-Code mit <code>sudo -u bookwyrm venv/bin/python3 manage. y admin_code</code>, und kopieren Sie den Admin-Code, der beim Erstellen Ihres Admin-Kontos verwendet werden soll.</p>
</li>
<li>Du kannst deinen Code jederzeit erhalten, indem du diesen Befehl erneut ausführst. Hier ist eine Beispielausgabe:</li>
</ul>
<div class="highlight"><pre><span></span><code>*******************************************
Verwende<span class="w"> </span>diesen<span class="w"> </span>Code<span class="w"> </span>um<span class="w"> </span>deinen<span class="w"> </span>Administratoraccount<span class="w"> </span>zu<span class="w"> </span>erstellen:
c6c35779-af3a-4091-b330-c026610920d6
*******************************************
</code></pre></div>

<ul>
<li>Erstelle und konfiguriere das Startskript<ul>
<li>Erstelle eine Datei mit dem Namen dockerless-run.sh und füge die folgenden Inhalte ein</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Stoppen falls ein Prozess fehlschlägt.</span>
<span class="nb">set</span><span class="w"> </span>-e

<span class="c1"># bookwyrm</span>
/opt/bookwyrm/venv/bin/gunicorn<span class="w"> </span>bookwyrm.wsgi:application<span class="w"> </span>--bind<span class="w"> </span><span class="m">0</span>.0.0.0:8000<span class="w"> </span><span class="p">&amp;</span>

<span class="c1"># celery</span>
/opt/bookwyrm/venv/bin/celery<span class="w"> </span>-A<span class="w"> </span>celerywyrm<span class="w"> </span>worker<span class="w"> </span>-l<span class="w"> </span>info<span class="w"> </span>-Q<span class="w"> </span>high_priority,medium_priority,low_priority<span class="w"> </span><span class="p">&amp;</span>
/opt/bookwyrm/venv/bin/celery<span class="w"> </span>-A<span class="w"> </span>celerywyrm<span class="w"> </span>beat<span class="w"> </span>-l<span class="w"> </span>INFO<span class="w"> </span>--scheduler<span class="w"> </span>django_celery_beat.schedulers:DatabaseScheduler<span class="w"> </span><span class="p">&amp;</span>
<span class="c1"># /opt/bookwyrm/venv/bin/celery -A celerywyrm flower &amp;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>- Ersetze `/opt/bookwyrm` durch dein Installationsverzeichnis
- Ändere `8000` auf deine eigene Portnummer
- Flower wurde hier deaktiviert, da es nicht automatisch mit dem Passwort in der `.env` Datei konfiguriert ist
</code></pre></div>

<ul>
<li>Du kannst nun BookWyrm mit folgendem Befehl ausführen: <code>sudo -u bookwyrm bash /opt/bookwyrm/dockerless-run.sh</code></li>
<li>Die Anwendung sollte auf deiner Domain laufen. Wenn du die Domain lädst, siehst du eine Konfigurationsseite, die deine Instanzeinstellungen bestätigt und ein Formular zum Erstellen eines Administratorkontos. Benutze deinen Admin-Code um dich zu registrieren.</li>
<li>Möglicherweise möchtest du BookWyrm so konfigurieren, dass es mit einem System-Dienst automatisch ausgeführt wird. Hier ist ein Beispiel:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/systemd/system/bookwyrm.service</span>
<span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Bookwyrm Server</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target</span>
<span class="na">After</span><span class="o">=</span><span class="s">systemd-user-sessions.service</span>
<span class="na">After</span><span class="o">=</span><span class="s">network-online.target</span>

<span class="k">[Service]</span>
<span class="na">User</span><span class="o">=</span><span class="s">bookwyrm</span>
<span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">always</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/bin/bash /opt/bookwyrm/dockerless-run.sh</span>
<span class="na">WorkingDirectory</span><span class="o">=</span><span class="s">/opt/bookwyrm/</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>

<p>Du musst einen Cron-Job einrichten, damit der Dienst beim Neustart automatisch starten kann.</p>
<p>Glückwunsch! Du hast es geschafft!! Konfigure deine Instanz wie es dir gefällt.</p>
<h2 id="mitmachen"><a class="headerlink" href="#mitmachen">Mitmachen</a></h2>
<p>Siehe <a href="https://joinbookwyrm.com/get-involved/">Mitmachen</a> für Details.</p>
</section>

        </div>
    </div>
</section>
</div>

<footer id="contentinfo" class="footer">
    <div class="container is-max-desktop">
        <div class="columns">
            <div class="column content">
                <p>
                    <strong>BookWyrm</strong> ist eine kollaborative, nicht-kommerzielle Software, die von <a href='https://www.mousereeve.com/'>Mouse Reeve</a> betrieben wird.
                </p>
                <p>
                    Unterstütze BookWyrm auf <a href='https://www.patreon.com/bookwyrm' target='_blank'>Patreon</a>.
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Machen Sie mit</h3>
                <p>
                    <a href="https://github.com/bookwyrm-social">BookWyrm auf GitHub</a>
                </p>
                <p>
                    <a href="https://github.com/bookwyrm-social/documentation/blob/main/content/running_bookwyrm/install-prod-dockerless.md">Zu dieser Seite beitragen</a>
                </p>
                <p>
                    <a href="https://twitter.com/BookWyrmSocial" target="_blank">
                        <span class="icon icon-twitter"><span class="is-sr-only">Twitter</span></span>
                    </a>
                    <a href="https://tech.lgbt/@bookwyrm" target="_blank" rel="me">
                        <span class="icon icon-mastodon"><span class="is-sr-only">Mastodon</span></span>
                    </a>
                    <a href="https://www.patreon.com/bookwyrm" target="_blank">
                        <span class="icon icon-patreon"><span class="is-sr-only">Patreon</span></span>
                    </a>
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Mehr erfahren</h3>
                <p>
                    <a href="https://docs.joinbookwyrm.com">Dokumentation</a>
                </p>
                <p>
                    <a href="mailto:mousereeve@riseup.net">Betreiber*in kontaktieren</a>
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/bookwyrm-social/join-bookwyrm/main/LICENSE.md">Lizenz</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">
    (function() {
        var languageSelector = document.getElementById("language_selection");
        languageSelector.onchange = function(event) {
            var current_locale = "de/";
            var current_location = window.location.pathname;

            var locale_index = current_location.indexOf(current_locale);
            var new_location = "/" + event.target.value;

            if (locale_index) {
                // we're in a locale - swap it out
                new_location = current_location.replace(current_locale, event.target.value)
            } else {
                // are we in a version?
                var regx = /\/v[0-9\.]+/
                if (regx.test(current_location)) {
                    // split current location
                    arr = current_location.split("/")
                    // insert new locale
                    arr.splice(2, 0, event.target.value.replace("/", ""))
                    // gather it all together again
                    new_location = arr.join("/")
                } else {
                    new_location += current_location.slice(1);
                }
            }
            window.location = new_location;
        }
    })()
</script>
<script type="text/javascript">
    (function() {
        var versionSelector = document.getElementById("version_selection");
        versionSelector.onchange = function(event) {
            current_version = "v0.7.5"
            var current_location = window.location.pathname;
            var target_version = event.target.value == "latest" ? "" : event.target.value;
            var arr = current_location.split("/")
            var regx = /\/v[0-9\.]+/
            if (regx.test(current_location)) {
                window.location = window.location.href.replace(regx,`${target_version}`)
            } else {
                window.location = `/${target_version}${current_location}`
            }
        }
    })()
</script>


</body>
</html>
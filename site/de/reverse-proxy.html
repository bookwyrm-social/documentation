<!DOCTYPE html>
<html lang="de">
<head>
    <title>
        
Verwenden eines Reverse-Proxy

    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/static/css/icons.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bulma.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bookwyrm.css?v076">

    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bookwyrm Documentation">
    <meta name="og:title" content="Bookwyrm Documentation">
    <meta name="twitter:description" content="Documentation for using and contributing to BookWyrm">
    <meta name="og:description" content="Documentation for using and contributing to BookWyrm">

    <meta name="twitter:image" content="">
    <meta name="og:image" content="">
    <meta name="twitter:image:alt" content="BookWyrm Logo">

    <meta charset="UTF-8">
</head>
<body>
<nav class="navbar container is-max-desktop" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://joinbookwyrm.com/">
            <img class="image logo" src="/static/images/logo-small.png" alt="Go back to the homepage">
        </a>
        <a href="/" class="navbar-item has-text-link has-text-weight-bold">
            Dokumentation
        </a>
        <a role="button" class="navbar-burger" data-target="main-nav" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div class="navbar-menu" id="main-nav">
        <div class="navbar-start">
            <a href="https://joinbookwyrm.com/de/instances" class="navbar-item">
                Beitreten
            </a>
            <a href="https://joinbookwyrm.com/de/get-involved" class="navbar-item">
                Mitmachen
            </a>
            <a href="https://www.patreon.com/bookwyrm" class="navbar-item">
                Unterstützung
            </a>
            <a href="https://github.com/bookwyrm-social/bookwyrm" class="navbar-item">
                Code
            </a>
        </div>
    </div>
</nav>

<div class="message is-danger">
    <div class="message-body has-text-centered">
        Dies ist die Dokumentation für den aktuellen Entwicklungsstand. Wählen Sie eine Version aus dem Menü aus, um die Dokumentation für veröffentlichte Versionen zu sehen seit <strong>v0.7.5</strong>.
    </div>
</div>


<div class="columns">
    <nav class="menu column is-one-quarter is-hidden-touch pl-6" id="menu">
        <h2 class="menu-label">Language & Version</a></h2>
        <div class="select">
            <select aria-label="Select a language" id="language_selection">
                
                <option value="" >English (US)</option>
                
                <option value="de/" selected>Deutsch</option>
                
                <option value="fr/" >Français</option>
                
                <option value="pl/" >Polski</option>
                
                <option value="pt-br/" >Português do Brasil</option>
                
                <option value="ro/" >Română</option>
                
          </select>
        </div>
        <div class="select">
            <select aria-label="Previous versions" id="version_selection">
                
                <option value="development" >development</option>
                
                <option value="v0.7.5" >v0.7.5</option>
                
                <option value="0.8.0" >0.8.0</option>
                
            </select>
        </div>
        
        <h2 class="menu-label">Using BookWyrm</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/de/main-menu.html" class="has-background-inherit" >Main Menu & Timelines</a>
            </li>
            
            <li>
                <a href="/de/shelves.html" class="has-background-inherit" >Shelves & Reading Status</a>
            </li>
            
            <li>
                <a href="/de/adding-books.html" class="has-background-inherit" >Bücher hinzufügen</a>
            </li>
            
            <li>
                <a href="/de/settings.html" class="has-background-inherit" >Settings and Profile</a>
            </li>
            
            <li>
                <a href="/de/posting-statuses.html" class="has-background-inherit" >Posting Statuses</a>
            </li>
            
            <li>
                <a href="/de/lists.html" class="has-background-inherit" >Lists</a>
            </li>
            
            <li>
                <a href="/de/privacy-controls.html" class="has-background-inherit" >Privacy Controls</a>
            </li>
            
            <li>
                <a href="/de/groups.html" class="has-background-inherit" >Groups</a>
            </li>
            
            <li>
                <a href="/de/rss-feeds.html" class="has-background-inherit" >RSS Feeds</a>
            </li>
            
            <li>
                <a href="/de/user-migration.html" class="has-background-inherit" >User Migration and Aliases</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Running BookWyrm</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/de/install-prod.html" class="has-background-inherit" >Installing in Production</a>
            </li>
            
            <li>
                <a href="/de/install-prod-dockerless.html" class="has-background-inherit" >Installation ohne Docker</a>
            </li>
            
            <li>
                <a href="/de/updating.html" class="has-background-inherit" >Deine Instanz updaten</a>
            </li>
            
            <li>
                <a href="/de/reverse-proxy.html" class="has-background-inherit" class="is-active">Verwenden eines Reverse-Proxy</a>
            </li>
            
            <li>
                <a href="/de/moderation.html" class="has-background-inherit" >Moderation</a>
            </li>
            
            <li>
                <a href="/de/monitoring-queue.html" class="has-background-inherit" >Überwachungswarteschlange</a>
            </li>
            
            <li>
                <a href="/de/optional_features.html" class="has-background-inherit" >Optionale Funktionen</a>
            </li>
            
            <li>
                <a href="/de/external-storage.html" class="has-background-inherit" >External Storage</a>
            </li>
            
            <li>
                <a href="/de/cli.html" class="has-background-inherit" >Befehlszeilenwerkzeug</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Contributing</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/de/contributing.html" class="has-background-inherit" >Wie mitmachen</a>
            </li>
            
            <li>
                <a href="/de/translation.html" class="has-background-inherit" >Übersetzungen</a>
            </li>
            
            <li>
                <a href="/de/documentation.html" class="has-background-inherit" >Documentation</a>
            </li>
            
            <li>
                <a href="/de/style_guide.html" class="has-background-inherit" >Stilleitfaden</a>
            </li>
            
            <li>
                <a href="/de/debug_toolbar.html" class="has-background-inherit" >Django Debug-Symbolleiste</a>
            </li>
            
            <li>
                <a href="/de/install-dev.html" class="has-background-inherit" >Developer Environment</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Codebase</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/de/activitypub.html" class="has-background-inherit" >ActivityPub</a>
            </li>
            
            <li>
                <a href="/de/permissions.html" class="has-background-inherit" >Berechtigungen</a>
            </li>
            
        </ul>
        
        <h2 class="menu-label">Reference Guides</h2>
        <ul class="menu-list has-background-inherit">
            
            <li>
                <a href="/de/environment.html" class="has-background-inherit" >Environment Variables</a>
            </li>
            
        </ul>
        
    </nav>

    <div class="column pt-0">
        

<nav class="navbar is-dark" role="table-of-contents-navigation" aria-label="dropdown navigation">
    <div class="navbar-start">
        <div class="navbar-item has-dropdown" id="toc" data-target="toc-dropdown">
            <a class="navbar-link">
              Page Contents
            </a>

            <div class="navbar-dropdown is-hidden-touch " id="toc-dropdown">
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
                  <a class="navbar-item" href="#"></a>
                  
              
            </div>
          </div>
    </div>
  </nav>


        <div class="container is-max-desktop">
            <section class="section">
                <header class="content block column is-offset-one-quarter pl-2">
                    
<h1 class="title is-1">Verwenden eines Reverse-Proxy</h1>

                </header>
                
<section class="block content">
    <h2 id="bookwyrm-hinter-einem-reverse-proxy-ausfuhren"><a class="headerlink" href="#bookwyrm-hinter-einem-reverse-proxy-ausfuhren">BookWyrm hinter einem Reverse-Proxy ausführen</a></h2>
<p>Wenn du einen anderen Webserver auf Ihrem Rechner betreibst, solltest du ihn als Proxy für Web-Anfragen an BookWyrm einrichten.</p>
<p>Die Standardkonfiguration von BookWyrm hat bereits einen nginx-Server, der Anfragen an die Django-App weiterleitet, die SSL verarbeitet und statische Dateien direkt bedient. Die statischen Dateien werden in einem Docker Volume gespeichert, auf das mehrere BookWyrm Dienste zugreifen, daher wird es nicht empfohlen, diesen Server komplett zu entfernen.</p>
<p>Um BookWyrm hinter einem Reverse-Proxy auszuführen, führe folgende Änderungen aus:</p>
<ul>
<li>In <code>nginx/default.conf</code>:<ul>
<li>Kommentiere die zwei Standardserver aus</li>
<li>Kommentiere den Server beschrift als Reverse-Proxy Server aus</li>
<li>Ersetze <code>your-domain.com</code> durch deinen Domain-Namen</li>
</ul>
</li>
<li>In <code>docker-compose.yml</code>:<ul>
<li>In <code>-services</code> -&gt; <code>nginx</code> -&gt; <code>ports</code>, kommentiere die Standard-Ports aus und füge <code>- 8001:8001</code> hinzu</li>
<li>In <code>services</code> -&gt; <code>nginx</code> -&gt; <code>volumes</code> kommentiere die beiden Volumes aus, die mit <code>./certbot/</code> beginnen</li>
<li>In <code>services</code> kommentiere den <code>certbot</code> Dienst aus</li>
</ul>
</li>
</ul>
<p>An dieser Stelle folge den Anweisungen <a href="#server-setup">Setup</a> wie aufgeführt. Sobald Docker läuft, kannst du auf deine BookWyrm-Instanz zugreifen unter <code>http://localhost:8001</code> (<strong>HINWEIS:</strong> Dein Server ist nicht über <code>https</code> erreichbar).</p>
<p>Schritte zum Einrichten eines Reverse-Proxys sind vom Server abhängig.</p>
<h4 id="nginx"><a class="headerlink" href="#nginx">Nginx</a></h4>
<p>Bevor du nginx einrichten kannst, musst du Ihr nginx-Konfigurationsverzeichnis finden, das abhängig von deiner Plattform und nginx-Installation ist. Weitere Informationen findest du im <a href="http://nginx.org/en/docs/beginners_guide.html">nginx Guide</a>.</p>
<p>Um deinen Server einzurichten:</p>
<ul>
<li>Stelle in deiner <code>nginx.conf</code>-Datei sicher, dass <code>include servers/*;</code> nicht auskommentiert ist.</li>
<li>Erstelle im nginx-<code>Server</code>-Verzeichnis eine neue Datei, die nach deiner Domain benannt ist und die folgenden Informationen enthält:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">your-domain.com</span><span class="w"> </span><span class="s">www.your-domain.com</span><span class="p">;</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8000</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/images/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8001</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/static/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8001</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="s">[::]:80</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Um mit einem SSL-Block einzurichten:</p>
<div class="highlight"><pre><span></span><code><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">your.domain</span><span class="p">;</span>

<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="s">[::]:80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">add_header</span><span class="w"> </span><span class="s">Strict-Transport-Security</span><span class="w"> </span><span class="s">&quot;max-age=31536000</span><span class="p">;</span><span class="kn">includeSubDomains&quot;</span><span class="w"> </span><span class="s">always</span><span class="p">;</span>
<span class="w">    </span><span class="kn">rewrite</span><span class="w"> </span><span class="s">^</span><span class="w"> </span><span class="s">https://</span><span class="nv">$server_name$request_uri</span><span class="p">;</span>
<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kn">return</span><span class="w"> </span><span class="mi">301</span><span class="w"> </span><span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1"># SSL code</span>
<span class="k">ssl_certificate</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/your.domain/fullchain.pem</span><span class="p">;</span>
<span class="k">ssl_certificate_key</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/your.domain/privkey.pem</span><span class="p">;</span>

<span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="s">[::]:443</span><span class="w"> </span><span class="s">ssl</span><span class="w"> </span><span class="s">http2</span><span class="p">;</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">443</span><span class="w"> </span><span class="s">ssl</span><span class="w"> </span><span class="s">http2</span><span class="p">;</span>

<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">your.domain</span><span class="p">;</span>
<span class="w">    </span><span class="kn">add_header</span><span class="w"> </span><span class="s">Strict-Transport-Security</span><span class="w"> </span><span class="s">&quot;max-age=31536000</span><span class="p">;</span><span class="w"> </span><span class="kn">includeSubDomains&quot;</span><span class="w"> </span><span class="s">always</span><span class="p">;</span>
<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8000</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/images/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8001</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/static/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8001</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>führe <code>sudo certbot run --nginx --email YOUR_EMAIL -d your-domain.com -d www.your-domain.com</code> aus</li>
<li>nginx neustarten</li>
</ul>
<p>Wenn alles richtig funktioniert hat, sollte deine BookWyrm-Instanz nun extern zugänglich sein.</p>
<p><em>Hinweis: Der <code>proxy_set_header Host $host;</code> ist unerlässlich; wenn du ihn nicht einbindest, werden eingehende Nachrichten von föderierten Servern abgelehnt.</em></p>
<p><em>Hinweis: Der Pfad der SSL Zertifikate kann je nach Betriebssystem Ihres Servers variieren</em></p>
</section>

            </section>
        </div>
    </div>
</div>

<footer id="contentinfo" class="footer">
    <div class="container is-max-desktop">
        <div class="mb-6">
            <p>Can't find what you are looking for, or see something wrong? <a href='https://github.com/bookwyrm-social/documentation/issues'>Log an Issue to help us improve this documentation!</a></p>
        </div>
        <div class="columns">
            <div class="column content">
                <p>
                    <strong>BookWyrm</strong> ist eine kollaborative, nicht-kommerzielle Software, die von <a href='https://www.mousereeve.com/'>Mouse Reeve</a> betrieben wird.
                </p>
                <p>
                    Unterstütze BookWyrm auf <a href='https://www.patreon.com/bookwyrm' target='_blank'>Patreon</a>.
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Machen Sie mit</h3>
                <p>
                    <a href="https://github.com/bookwyrm-social">BookWyrm auf GitHub</a>
                </p>
                <p>
                    <a href="https://github.com/bookwyrm-social/documentation/blob/main/content/running_bookwyrm/reverse-proxy.md">Zu dieser Seite beitragen</a>
                </p>
                <p>
                    <a href="https://twitter.com/BookWyrmSocial" target="_blank">
                        <span class="icon icon-twitter"><span class="is-sr-only">Twitter</span></span>
                    </a>
                    <a href="https://tech.lgbt/@bookwyrm" target="_blank" rel="me">
                        <span class="icon icon-mastodon"><span class="is-sr-only">Mastodon</span></span>
                    </a>
                    <a href="https://www.patreon.com/bookwyrm" target="_blank">
                        <span class="icon icon-patreon"><span class="is-sr-only">Patreon</span></span>
                    </a>
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Mehr erfahren</h3>
                <p>
                    <a href="https://docs.joinbookwyrm.com">Dokumentation</a>
                </p>
                <p>
                    <a href="mailto:mousereeve@riseup.net">Betreiber*in kontaktieren</a>
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/bookwyrm-social/join-bookwyrm/main/LICENSE.md">Lizenz</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<script>
    var current_locale = "de/";
    var current_version = "";
</script>
<script src="/static/js/bookwyrm.js"></script>
</body>
</html>